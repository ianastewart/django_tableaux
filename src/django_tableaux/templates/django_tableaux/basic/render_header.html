{% load django_tables2 django_tableaux %}
{% if table.show_header %}
  {#  sort attributes and filter row #}
  <thead {{ table.attrs.thead.as_html }} style="margin: 0px;">
  <tr>
    {% for column in table.columns %}
      {% if column.name in table.columns_visible %}
        <th {{ column.attrs.th.as_html }}
          {% if column.orderable %}
              hx-target="#table_container" hx-push-url="true"
              hx-get="{% querystring table.prefixed_order_by_field=column.order_by_alias.next %}"
              name="sort"
          {% endif %}>
              {% if column.name == "selection" %}
                <input type="checkbox" id="select_all_page" name="select_all_page">
              {% else %}
                {{ column.header }}
                {% if column.orderable %}
                  {% if column.is_ordered %}
                    {% if "-" in column.order_by.0 %}&#9651;{% else %}&#9661;{% endif %}
                  {% endif %}
                  {% else %}
                  &nbsp;&nbsp;
                  {% endif %}
              {% endif %}
            </th>
          {% endif %}
    {% endfor %}
  </tr>
  {% if table.filter.style == table.filter.style.HEADER %}
    <tr>
      {% for field in table.header_fields %}
        <th>
          {% if field %}
            {% include templates.tb_filter_field with field=field header=True %}
          {% endif %}
        </th>
      {% endfor %}
    </tr>
  {% endif %}
  </thead>
{% endif %}
