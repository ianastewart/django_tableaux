{% load django_tables2 %}
{% load i18n %}
{% if not table.infinite_scroll and not table.infinite_load %}
  {% if table.page and table.paginator.num_pages > 1 %}
    <nav aria-label="Table navigation">
      <ul class="pagination justify-content-center pb-2">
        {% if table.page.has_previous %}
          {% block pagination.previous %}
            <li class="previous page-item">
            <span class="page-link"
              hx-get="{{ url }}" hx-target="#{{ table.prefix }}table_wrapper" hx-swap="outerHTML"
              {% if table.indicator %}hx-indicator="#{{ table.prefix }}tableaux_overlay"{% endif %} id="{{ table.prefix }}~page~{{ table.page.previous_page_number }}">
                <span aria-hidden="true">&laquo;</span>
                {% trans 'Previous' %}
            </span>
            </li>
          {% endblock pagination.previous %}
        {% endif %}
        {% if table.page.has_previous or table.page.has_next %}
          {% block pagination.range %}
            {% for p in table.page|table_page_range:table.paginator %}
              <li class="page-item{% if table.page.number == p %} active{% endif %}">
                  <span class="page-link"
                   {% if p != '...' %} hx-get="{{ url }}" hx-target="#{{ table.prefix }}table_wrapper" hx-swap="outerHTML" hx-include="#{{ table.prefix }}filter_form"
                   {% if table.indicator %}hx-indicator="#{{ table.prefix }}tableaux_overlay"{% endif %} id="{{ table.prefix }}~page~{{ p }}"{% endif %}>
                  {{ p }}
                  </span>
              </li>
            {% endfor %}
          {% endblock pagination.range %}
        {% endif %}
        {% if table.page.has_next %}
          {% block pagination.next %}
            <li class="next page-item">
              <span class="page-link"
            hx-get="{{ url }}" hx-target="#{{ table.prefix }}table_wrapper" hx-swap="outerHTML"
                {% if table.indicator %}hx-indicator="#{{ table.prefix }}tableaux_overlay"{% endif %}
                id="{{ table.prefix }}~page~{{ table.page.next_page_number }}">
                {% trans 'Next' %}
                <span aria-hidden="true">&raquo;</span>
              </span>
            </li>
          {% endblock pagination.next %}
        {% endif %}
      </ul>
    </nav>
  {% endif %}
{% endif %}