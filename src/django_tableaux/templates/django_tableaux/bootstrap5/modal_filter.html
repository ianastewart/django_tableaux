{% extends "django_tableaux/bootstrap5/modal_base.html" %}
{% load django_bootstrap5 %}
{% block modal_title %}<span class="h4">Filter</span>{% endblock %}
{% block modal_content %}
  <form id="{{ prefix }}modal_filter_form" {% if not filter_button %}
        hx-get="{{ url }}" hx-trigger="change from #{{ prefix }}modal_filter" {% endif %}>
    {{ block.super }}
  </form>
{% endblock %}
{% block modal_body %}
  <div class="modal-body tableaux bg-light">
    {{ filter.form.media }}
    <div class="d-flex-column">
      {% for field in filter.form.visible_fields %}
        {% bootstrap_field field wrapper_class="form-group mb-2" placeholder="" %}
      {% endfor %}
    </div>
  </div>
{% endblock %}
{% block modal_footer %}
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" hx-get="{{ url }}" name="filter_reset" hx-include=#{{ prefix }}filter_form"
            onclick="closeModal()">Clear filters</button>
    {% if filter_button %}
      <button type="button" class="btn btn-primary" hx-get="{{ url }}" name="filter_button" hx-include="closest form, #{{ prefix }}filter_form"
      onclick="closeModal()">Filter</button>
    {% endif %}
  </div>
{% endblock %}